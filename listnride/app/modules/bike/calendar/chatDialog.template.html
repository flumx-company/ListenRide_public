<md-dialog>

  <md-toolbar class="md-accent">
    <div class="md-toolbar-tools" layout-align="center center">
      <md-button class="md-icon-button">
        <md-icon></md-icon>
      </md-button>
      <span flex></span>
      <h2 class="md-headline" translate="requests.{{chatDialog.request.chatFlow}}" translate-values="chatDialog.request"></h2>
      <span flex></span>
      <md-button class="md-icon-button" ng-click="chatDialog.hide()">
        <md-icon md-svg-src="app/assets/ui_icons/icn_close_24.svg" aria-label="Close dialog"></md-icon>
      </md-button>
    </div>
  </md-toolbar>

  <md-dialog-content style="height: 100vh" layout="column">
    <div flex="85" scroll-glue="chatDialog.request.glued" class="chat">
      <message
        ng-repeat="message in chatDialog.request.messages"
        content="message.content"
        sender="message.sender"
        status="message.status"
        request="chatDialog.request"
        message-time="message.created_at_readable"
        accept-booking="chatDialog.request.acceptBooking()"
        show-rating-dialog="chatDialog.request.showRatingDialog()">
      </message>
    </div>

    <div class="lnr-message-form" flex="15" layout="row" layout-padding>
      <md-input-container class="ap-chat" flex md-no-float>
        <input ng-model="chatDialog.request.message" placeholder="Write a message"></input>
      </md-input-container>
      <md-input-container>
        <md-button flex class="md-raised md-primary lnr-m-0" ng-click="chatDialog.request.sendMessage()">Send</md-button>
      </md-input-container>
    </div>
  </md-dialog-content>
</md-dialog>
